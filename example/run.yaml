name: run
commands:
  - name: alias ARG
    # run: "[git, status]"
    run: [git, status]

  - name: legacy ARG
    run: "[git, status]"

  - name: macro ARG
    run: "$(ls $@)" # TODO: support modifiers -  run: "$fish(pwd) ||| $chdir(/tmp)"
    completion:
      positionalany: ["$files"]

  - name: script ARG
    run: |
      #!/usr/bin/env bash
      if [[ -n  "$C_FLAG_PREFIX" ]]; then
        for arg in "$@"; do
          echo "${C_FLAG_PREFIX}/${arg}"
        done
      else
        echo "$@" | xargs -n1 echo
      fi
    flags:
      -p, --prefix=: prefix values
    completion:
      positional:
        - [one, two]
